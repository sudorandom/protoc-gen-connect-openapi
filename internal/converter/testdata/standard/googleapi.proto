syntax = "proto3";

package io.swagger.petstore.v2;

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

service Foo {
  rpc Foo(google.protobuf.Empty) returns (google.protobuf.Empty) {
    option idempotency_level = NO_SIDE_EFFECTS;
    option (google.api.http) = {get: "/.well-known/jwks.json"};
  }
  rpc Foo2(Foo2Request) returns (Foo2Response) {
    option (google.api.http).get = "/v1/{property_in_path_ok}/{parentMsg.property_in_path}/foo";
  }

  rpc Masky(MaskyRequest) returns (google.protobuf.Empty) {}

  rpc NamedPathPatterns(Something) returns (google.protobuf.Empty) {
    option (google.api.http).get = "/v1/{property_in_path=messages/*}";
  }

  rpc NamedPathPatternsWithLiteralSegment(Something) returns (google.protobuf.Empty) {
    option (google.api.http).get = "/v1/{name=organizations/*/teams/*/all/members/*}";
  }

  rpc Timestampy(TimestampyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {get: "/timestampy"};
  }
  
  rpc FooDeprecated(google.protobuf.Empty) returns (google.protobuf.Empty) {
    option deprecated = true;
    option (google.api.http).get = "/v1/deprecated";
  }
}

message MaskyRequest {
  google.protobuf.FieldMask fields = 1;
}

message TimestampyRequest {
  google.protobuf.Timestamp ts = 1;
  google.protobuf.StringValue s = 2;
}

message Foo2Request {
  string property_in_path_ok = 1;
  Something parentMsg = 2;
  string property_in_query_ok = 3;
}
message Something {
  string property_in_path = 1;
  string property_in_query = 2;
}

message Foo2Response {}
